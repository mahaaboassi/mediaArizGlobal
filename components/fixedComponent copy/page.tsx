"use client"

import Style from "./page.module.css"
import { RootState } from "@/store/index";
import { useState ,useEffect} from "react";
import Image from "next/image";
import Link from "next/link";
import { useSelector } from "react-redux";

interface PropsView {
    viewRedux : Boolean
}
const FixedComponent:React.FC<PropsView> = ({viewRedux}) => {
    const data  = [{
        name : "whatsapp",
        id : 1,
        icon : <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 176 169" fill="none">
        <path d="M114.137 123.704C79.895 123.696 52.0314 95.8323 52.0238 61.5984C52.039 52.9219 59.0944 45.859 67.7632 45.859C68.6537 45.859 69.5365 45.9351 70.3738 46.0873C72.2308 46.3917 73.989 47.0234 75.6177 47.9672C75.8536 48.1042 76.0135 48.3325 76.0515 48.5989L79.6667 71.4089C79.7124 71.6753 79.6287 71.9416 79.4536 72.1395C77.4519 74.3543 74.9023 75.945 72.071 76.7441L70.7086 77.1323L71.2262 78.4566C75.8993 90.3373 85.3977 99.8433 97.286 104.516L98.6103 105.034L98.9909 103.664C99.79 100.825 101.381 98.2755 103.595 96.2814C103.755 96.1368 103.968 96.0531 104.189 96.0531C104.235 96.0531 104.288 96.0531 104.334 96.0683L127.136 99.6835C127.41 99.7292 127.631 99.8813 127.775 100.117C128.712 101.746 129.343 103.512 129.655 105.361C129.8 106.191 129.876 107.059 129.876 107.972C129.876 116.641 122.813 123.696 114.137 123.711V123.704Z" fill="white"/>
        <path d="M174.857 77.0639C173.007 56.1947 163.448 36.84 147.937 22.5695C132.334 8.20769 112.082 0.299927 90.9081 0.299927C44.4357 0.299927 6.62459 38.1111 6.62459 84.5835C6.62459 100.178 10.9248 115.377 19.0685 128.613L0.908783 168.821L59.0715 162.626C69.1865 166.766 79.8951 168.867 90.9081 168.867C93.8078 168.867 96.7761 168.715 99.752 168.41C102.378 168.129 105.026 167.718 107.637 167.192C146.559 159.33 174.971 124.784 175.192 85.0325V84.5835C175.192 82.049 175.077 79.5221 174.849 77.0714L174.857 77.0639ZM61.3015 144.976L29.1225 148.401L38.7351 127.113L36.8172 124.533C36.6726 124.343 36.5356 124.153 36.3757 123.94C28.0342 112.424 23.6274 98.8159 23.6274 84.5759C23.6274 47.4726 53.8124 17.2952 90.9081 17.2952C125.667 17.2952 155.122 44.4129 157.96 79.0275C158.113 80.8845 158.189 82.7493 158.189 84.5835C158.189 85.1086 158.181 85.6262 158.166 86.1741C157.45 117.212 135.767 143.568 105.437 150.281C103.124 150.799 100.749 151.187 98.382 151.446C95.9237 151.727 93.4044 151.864 90.9005 151.864C81.988 151.864 73.3268 150.136 65.1375 146.727C64.2317 146.361 63.3413 145.973 62.5041 145.57L61.2863 144.984L61.3015 144.976Z" fill="white"/>
        </svg>,
        link : "https://wa.me/971589185328"
    },{
        name : "mail",
        id : 3,
        icon : <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 31 31" fill="none">
        <g clipPath="url(#clip0_16490_16412)">
        <path d="M24.5921 1.26099H6.93788C5.26629 1.26299 3.66373 1.92791 2.48174 3.10991C1.29974 4.29191 0.634815 5.89446 0.632813 7.56606L0.632812 22.6982C0.634815 24.3698 1.29974 25.9724 2.48174 27.1544C3.66373 28.3364 5.26629 29.0013 6.93788 29.0033H24.5921C26.2637 29.0013 27.8662 28.3364 29.0482 27.1544C30.2302 25.9724 30.8952 24.3698 30.8972 22.6982V7.56606C30.8952 5.89446 30.2302 4.29191 29.0482 3.10991C27.8662 1.92791 26.2637 1.26299 24.5921 1.26099ZM6.93788 3.78302H24.5921C25.3472 3.7845 26.0845 4.01191 26.7093 4.43597C27.334 4.86004 27.8176 5.46136 28.0977 6.16255L18.4409 15.8207C17.7302 16.5285 16.768 16.9259 15.765 16.9259C14.762 16.9259 13.7998 16.5285 13.0891 15.8207L3.43226 6.16255C3.7124 5.46136 4.19595 4.86004 4.8207 4.43597C5.44545 4.01191 6.18281 3.7845 6.93788 3.78302ZM24.5921 26.4813H6.93788C5.93456 26.4813 4.97233 26.0827 4.26287 25.3733C3.55341 24.6638 3.15484 23.7016 3.15484 22.6982V9.45758L11.306 17.6037C12.4897 18.7844 14.0932 19.4474 15.765 19.4474C17.4368 19.4474 19.0403 18.7844 20.2239 17.6037L28.3751 9.45758V22.6982C28.3751 23.7016 27.9766 24.6638 27.2671 25.3733C26.5576 26.0827 25.5954 26.4813 24.5921 26.4813Z" fill="white"/>
        </g>
        <defs>
        <clipPath id="clip0_16490_16412">
        <rect width="30.2643" height="30.2643" fill="white" transform="translate(0.632812 0.00012207)"/>
        </clipPath>
        </defs>
        </svg>,
        link : "mailto:info@arizglobal.com"
    },{
        name : "phone",
        id : 2,
        icon :<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 31 32" fill="none">
        <g clipPath="url(#clip0_16490_16417)">
        <path d="M17.0256 2.13073C17.0256 1.79629 17.1584 1.47555 17.3949 1.23906C17.6314 1.00258 17.9521 0.86972 18.2866 0.86972C21.6299 0.873392 24.8352 2.20314 27.1992 4.5672C29.5633 6.93127 30.893 10.1366 30.8967 13.4799C30.8967 13.8143 30.7639 14.1351 30.5274 14.3715C30.2909 14.608 29.9701 14.7409 29.6357 14.7409C29.3013 14.7409 28.9805 14.608 28.744 14.3715C28.5075 14.1351 28.3747 13.8143 28.3747 13.4799C28.3717 10.8053 27.3079 8.24105 25.4166 6.34981C23.5254 4.45857 20.9612 3.39475 18.2866 3.39175C17.9521 3.39175 17.6314 3.25889 17.3949 3.02241C17.1584 2.78592 17.0256 2.46518 17.0256 2.13073ZM18.2866 8.43581C19.6243 8.43581 20.9073 8.96723 21.8533 9.91318C22.7992 10.8591 23.3306 12.1421 23.3306 13.4799C23.3306 13.8143 23.4635 14.1351 23.7 14.3715C23.9364 14.608 24.2572 14.7409 24.5916 14.7409C24.9261 14.7409 25.2468 14.608 25.4833 14.3715C25.7198 14.1351 25.8526 13.8143 25.8526 13.4799C25.8506 11.4738 25.0529 9.55053 23.6344 8.13205C22.2159 6.71356 20.2926 5.91578 18.2866 5.91378C17.9521 5.91378 17.6314 6.04664 17.3949 6.28312C17.1584 6.51961 17.0256 6.84035 17.0256 7.17479C17.0256 7.50923 17.1584 7.82998 17.3949 8.06646C17.6314 8.30295 17.9521 8.43581 18.2866 8.43581ZM29.753 21.9778C30.4837 22.7106 30.8941 23.7033 30.8941 24.7382C30.8941 25.7731 30.4837 26.7658 29.753 27.4986L28.6054 28.8214C18.2777 38.709 -6.85428 13.5833 2.88075 3.22277L4.33092 1.96176C5.06454 1.2514 6.04833 0.858433 7.06947 0.867873C8.0906 0.877312 9.06697 1.2884 9.78733 2.0122C9.82642 2.05129 12.1631 5.08655 12.1631 5.08655C12.8564 5.81495 13.2424 6.78253 13.2407 7.78815C13.2391 8.79378 12.85 9.76009 12.1543 10.4862L10.694 12.3223C11.5021 14.2858 12.6903 16.0703 14.1902 17.5732C15.6901 19.0762 17.4722 20.2679 19.4341 21.08L21.2815 19.6109C22.0077 18.9157 22.9738 18.5271 23.9792 18.5257C24.9845 18.5243 25.9517 18.9102 26.6799 19.6034C26.6799 19.6034 29.7139 21.9388 29.753 21.9778ZM28.0178 23.8114C28.0178 23.8114 25.0002 21.4898 24.9611 21.4507C24.7013 21.1932 24.3503 21.0486 23.9845 21.0486C23.6186 21.0486 23.2676 21.1932 23.0078 21.4507C22.9738 21.486 20.4303 23.5125 20.4303 23.5125C20.2589 23.6489 20.0549 23.7384 19.8384 23.772C19.622 23.8056 19.4005 23.7822 19.1958 23.7042C16.6541 22.7579 14.3456 21.2764 12.4264 19.3601C10.5073 17.4438 9.0224 15.1374 8.07235 12.5972C7.98811 12.3897 7.96065 12.1635 7.99278 11.9419C8.02492 11.7202 8.11549 11.5112 8.2552 11.3361C8.2552 11.3361 10.2816 8.79141 10.3157 8.75863C10.5733 8.49884 10.7178 8.14781 10.7178 7.78197C10.7178 7.41613 10.5733 7.0651 10.3157 6.80532C10.2766 6.76749 7.95507 3.74736 7.95507 3.74736C7.6914 3.51092 7.34727 3.3843 6.99323 3.39345C6.6392 3.40259 6.30206 3.54681 6.05094 3.79654L4.60078 5.05755C-2.51387 13.6123 19.2651 34.1832 26.7618 27.0988L27.9106 25.7748C28.1798 25.5254 28.3415 25.1811 28.3615 24.8147C28.3815 24.4484 28.2583 24.0885 28.0178 23.8114Z" fill="white"/>
        </g>
        <defs>
        <clipPath id="clip0_16490_16417">
        <rect width="30.2643" height="30.2643" fill="white" transform="translate(0.632812 0.869751)"/>
        </clipPath>
        </defs>
        </svg>,
        link : "tel:+97142243609"
    }]

    const [isSmall, setIsSmall] = useState<Boolean>(false)
    const [ isQuote, setIsQuote] = useState<number>(1)
    useEffect(() => {if(window.innerWidth <= 768) setIsSmall(true)}, [])
    useEffect(() => {setIsQuote(1)
        console.log("55",viewRedux);
        
    }, [viewRedux])
    const openQuote = ()=>{
            if(isQuote == 2 ) setIsQuote(3)
            if(isQuote == 3 || isQuote == 1) setIsQuote(2)
    }
    return ( <div>
            <div className={`${Style.container} ${viewRedux ? Style.viewIcon: Style.hideIcon}`}>
                {data.map((e,idx)=>{
                    return <Link href={e.link} target="_blank" aria-label={e.name} className={Style.icon} key={`Social_${e.name}_${idx}`}>
                        {e.icon}
                    </Link>
                })}
            </div>
            {/* <div className={`${Style.quote} ${viewRedux && isQuote != 1?(isQuote ==2 ? Style.viewContent:Style.viewContentHide):""} ${viewRedux ? (isSmall?Style.viewQuoteSmall:Style.viewQuote):(isSmall?Style.hideQuoteSmall:Style.hideQuote)}`}> */}
            <div className={`${Style.quote} ${viewRedux && isQuote != 1?(isQuote ==2 ? Style.viewContent:Style.viewContentHide):""} ${viewRedux ? Style.viewQuote:Style.hideQuote}`}>
                <div onClick={openQuote} className={`${Style.title} flex  `}>Get A free Qoute!</div>
                <div onClick={openQuote}  className={` ${Style.containerImg} hidden md:flex !h-full`}>
                    <Image alt={"Quote"} src="/quote.png" className="object-contain"  width={30} height={200} />
                </div>
                <form className={`${Style.content} flex flex-col justify-center gap-5 `}>
                    <h4>Reserve your discount today!</h4>
                    <div>
                        <input placeholder="Name" />
                    </div>
                    <div className="">
                        <input placeholder="Email" />
                    </div>
                    <div>
                        <input placeholder="Number" />
                    </div>
                    <div>
                        <button className="w-full btn-yellosh">Submit</button>
                    </div>
                </form>
                
            </div>
        </div>
    );
};

export default FixedComponent;

